<!DOCTYPE html>
<!-- saved from url=(0088)https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
<title>How to test your user interface using Xcode – Hacking with Swift</title>
<meta name="description" content="An introduction to testing with XCUITest ">
<meta name="keywords" content="hacking with swift, apple, developer, news, tutorials, swift, ios, macos, watchos, tvos, api, swift 5, swift 4, swift, swiftui, swift ui, tutorial, ios, ios 13, ios 12, wwdc, apple, ipad, iphone, free, tutorial, guide, objective c, watchos, tvos, macOS, uikit, watchkit">
<meta name="author" content="Paul Hudson @twostraws">
<link href="./How to test your user interface using Xcode – Hacking with Swift_files/site-18.css" rel="stylesheet">
<link rel="preload" href="https://www.hackingwithswift.com/webfonts/4-fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="https://www.hackingwithswift.com/webfonts/4-fa-light-300.woff2" as="font" type="font/woff2" crossorigin="">
<link rel="alternate" type="application/rss+xml" title="Hacking with Swift RSS feed" href="https://www.hackingwithswift.com/articles/rss">
<link rel="search" type="application/opensearchdescription+xml" title="Search Hacking with Swift" href="https://www.hackingwithswift.com/search.xml">
<link rel="canonical" href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode">
<link rel="apple-touch-icon" sizes="57x57" href="https://www.hackingwithswift.com/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://www.hackingwithswift.com/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://www.hackingwithswift.com/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://www.hackingwithswift.com/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://www.hackingwithswift.com/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://www.hackingwithswift.com/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://www.hackingwithswift.com/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://www.hackingwithswift.com/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://www.hackingwithswift.com/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192" href="https://www.hackingwithswift.com/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.hackingwithswift.com/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://www.hackingwithswift.com/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.hackingwithswift.com/favicon-16x16.png">
<link rel="manifest" href="https://www.hackingwithswift.com/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta property="og:image" content="https://www.hackingwithswift.com/uploads/testing.jpg">
<meta property="og:title" content="How to test your user interface using Xcode">
<meta property="og:description" content="An introduction to testing with XCUITest ">
<meta property="og:url" content="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode">
<meta property="og:site_name" content="Hacking with Swift">
<meta property="og:type" content="article">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@twostraws">
<meta name="twitter:title" content="How to test your user interface using Xcode">
<meta name="twitter:description" content="An introduction to testing with XCUITest ">
<meta name="twitter:creator" content="@twostraws">
<meta name="twitter:image" content="https://www.hackingwithswift.com/uploads/testing.jpg">
<meta name="twitter:domain" content="hackingwithswift.com">
<meta name="twitter:dnt" content="on">
</head>
<body class="sections-page sidebar-collapse">
<nav class="navbar navbar-expand-lg bg-hws fixed-top ">
<div class="container">
<div class="navbar-translate">
<a class="navbar-brand" href="https://www.hackingwithswift.com/">
<img src="./How to test your user interface using Xcode – Hacking with Swift_files/logo-curves.svg" style="width: 200px; height: auto;" alt="Hacking with Swift">
</a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-bar top-bar"></span>
<span class="navbar-toggler-bar middle-bar"></span>
<span class="navbar-toggler-bar bottom-bar"></span>
</button>
</div>
<div class="collapse navbar-collapse show">
<ul class="navbar-nav ml-auto" id="ceva">
<li class="nav-item dropdown">
<a href="https://www.hackingwithswift.com/forums" class="nav-link">
<p>Forums</p>
</a>
</li>
<li class="nav-item dropdown">
<a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown">
<p>Learn</p>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
<a class="dropdown-item" href="https://www.hackingwithswift.com/learn">
<i class="fal fa-star fa-lg"></i> Start Here
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/articles">
<i class="fal fa-newspaper fa-lg"></i> Latest Articles
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/100">
<i class="fal fa-toolbox fa-lg"></i> 100 Days of Swift
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/100/swiftui">
<i class="fal fa-rocket fa-lg"></i> 100 Days of SwiftUI
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/example-code">
<i class="fal fa-toolbox fa-lg"></i> Swift Knowledge Base
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/quick-start/swiftui">
<i class="fal fa-desktop-alt fa-lg"></i> SwiftUI by Example
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/sixty">
<i class="fal fa-clock fa-lg"></i> Swift in Sixty Seconds
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/read">
<i class="fal fa-book fa-lg"></i> Hacking with Swift
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/videos">
<i class="fal fa-play-circle fa-lg"></i> YouTube videos
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/playgrounds">
<i class="fal fa-map-marked-alt fa-lg"></i> Swift Playgrounds
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/unwrap">
<i class="fal fa-fw fa-mobile-android fa-lg"></i> Get the iOS App
</a>
</div>
</li>
<li class="nav-item dropdown">
<a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown">
<p>Careers</p>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
<a class="dropdown-item" href="https://www.hackingwithswift.com/career-guide">
<i class="fal fa-lightbulb-on fa-lg"></i> Start Here
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/interview-questions">
<i class="fal fa-comment-alt-check fa-lg"></i> Interview Questions
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/review">
<i class="fal fa-list-ul fa-lg"></i> Interactive Review
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/test">
<i class="fal fa-graduation-cap fa-lg"></i> Test your Swift
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/forums/jobs">
<i class="fal fa-building fa-lg fa-fw"></i> Find a Job
</a>
</div>
</li>
<li class="nav-item dropdown">
<a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown">
<p>Store</p>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
<a class="dropdown-item" href="https://www.hackingwithswift.com/plus">
<i class="fal fa-star fa-lg"></i> Subscribe to Hacking with Swift+
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/store">
<i class="fal fa-books fa-lg"></i> Browse Swift Courses
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/store/bundles">
<i class="fal fa-shopping-cart fa-lg"></i> Book bundles
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/faq">
<i class="fal fa-question-circle fa-lg"></i> Frequently Asked Questions
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/update-policy">
<i class="fal fa-sparkles fa-lg"></i> Lifetime Update Policy
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/frequent-flyer">
<i class="fal fa-plane fa-lg"></i> Frequent Flyer Club
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/apple-books">
<i class="fal fa-book-open fa-lg"></i> Buy on Apple Books
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/reviews">
<i class="fal fa-star fa-lg"></i> Reader Reviews
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/refund-policy">
<i class="fal fa-comment-dollar fa-lg"></i> Refund Policy
</a>
</div>
</li>
<li class="nav-item dropdown">
<a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" class="nav-link dropdown-toggle" id="navbarDropdownMenuLink1" data-toggle="dropdown">
<p>About</p>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink1">
<a class="dropdown-item" href="https://www.hackingwithswift.com/about">
<i class="fal fa-users fa-lg"></i> About Hacking with Swift
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/awards">
<i class="fal fa-trophy fa-lg"></i> Swift Community Awards
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/live">
<i class="fal fa-ticket-alt fa-lg"></i> Hacking with Swift Live
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/speaking">
<i class="fal fa-keynote fa-lg"></i> Conference Talks
</a>
<a class="dropdown-item" href="https://www.hackingwithswift.com/affiliates">
<i class="fal fa-envelope-open-dollar fa-lg"></i> Affiliate Program
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/newsletter">
<i class="fal fa-newspaper fa-lg"></i> Newsletter
</a>
<div class="dropdown-divider"></div>
<a class="dropdown-item" href="https://www.hackingwithswift.com/sponsor">
<i class="fal fa-megaphone fa-lg"></i> Sponsor the site
</a>
</div>
</li>
<li class="nav-item dropdown">
<a href="https://www.hackingwithswift.com/plus" class="nav-link btn btn-sm" style="margin: 4px 8px; background-color: rgba(255, 255, 255, 0.9); color: black;">
<p style="font-size: inherit;">SUBSCRIBE</p>
</a>
</li>
<li class="nav-item">
<form class="form-inline ml-auto" autocomplete="off" data-background-color="" method="get" action="https://www.hackingwithswift.com/search" onsubmit="return global_search_navigate();">
<div class="input-group" style="margin-bottom: 0;">
<div class="input-group-prepend">
<span class="input-group-text"><i class="fal fa-search"></i></span>
</div>
<input name="criteria" id="global_search" type="search" class="form-control" placeholder="Search" aria-label="Search">
</div>
</form>
</li>
</ul>
</div>
</div>
</nav>
<div class="wrapper">
<div class="section-space"></div>
<skybar id="latestTutorial">
<div style="background-color: #222222; margin: 0;">
<p style="padding: 3px; padding-top: 7px; margin: 0; color: white; text-align: center;"><a href="https://www.hackingwithswift.com/plus" style="color: white;" rel="noopener"><span class="pure-evil">NEW:</span> <strong>Start my new Ultimate Portfolio App course with a free Hacking with Swift+ trial!</strong> &gt;&gt;</a></p>
</div>
</skybar>
<div class="cd-section" id="blogs">
<div class="blogs-4" id="blogs-4">
<div class="container">
<div class="row">
<div class="col-lg-9 mx-auto">
<div class="row">
<div class="col-md-12">
<h1 class="title" style="margin: 0; word-break: break-word;">How to test your user interface using Xcode</h1>
<p class="lead description">An introduction to testing with XCUITest </p>
</div>
</div>
<div class="row">
<div class="col-md-12">
<p style="margin: 0;"><a href="https://www.hackingwithswift.com/about">Paul Hudson</a> &nbsp;&nbsp; <time itemprop="dateModified" datetime="2019-03-29T23:43:20+00:00">March 29th 2019</time>
<meta itemprop="datePublished" content="2018-04-24T14:16:53+00:00"> &nbsp;&nbsp; <i class="fab fa-twitter" aria-hidden="true" style="color: #4099ff"></i> <a href="https://twitter.com/twostraws" target="_blank">@twostraws</a></p>
</div>
</div>
<div class="row" style="margin-top: 20px;">
<div class="col-md-12">
<img src="./How to test your user interface using Xcode – Hacking with Swift_files/testing.jpg" class="img-responsive" style="width: 100%; max-height: 400px; object-fit: cover; border: 1px solid #888888;">
</div>
</div>
<div class="row" style="margin-top: 20px;">
<div class="col-md-12">
<p>User interface testing can be tricky to get right, so in this tutorial we’re going to take an app that has no UI tests and upgrade it so you can see exactly how the process work. The project we’ll be using is a simple sandbox with a variety of controls –&nbsp;<a rel="nofollow noopener" target="_blank" href="https://www.hackingwithswift.com/files/XCUITestSandbox.zip">you can download it here</a>.</p>
<p>Give the example app a try now –&nbsp;it’s a simple sandbox app with a small amount of functionality:</p>
<ul>
<li>If you enter text into the text box you’ll see the same text appear in the label below.</li>
<li>Dragging the slider will update the progress view; they should move in opposite directions.</li>
<li>Toggling the segmented control with change the title in the navigation bar.</li>
<li>Clicking any of the three colored buttons will present an alert.</li>
</ul>
<p>This example gives us a variety of controls to work with, which should allow for some interesting UI tests.</p>
<p>If you didn’t see the on-screen keyboard when the text field was selected, you should go to the Hardware menu and uncheck Keyboard &gt; Connect Hardware Keyboard. XCUITest does <em>not</em> work great with hardware keyboards, so you should use the on-screen one to be sure.</p>
<p><strong>Note:</strong> This sandbox app is specifically about user interface testing. Where possible regular unit tests are preferable.&nbsp;UI testing is notoriously flaky, and ideally you should make most of your app independent of the user interface –&nbsp;if you can avoid using <code>import UIKit</code> that’s a good sign!</p>
<p>Right now the app doesn’t have anywhere to add UI tests, so the first step is to add a new target. Go to the File menu and choose New &gt; Target. You’ll see a long list of possible targets, but I’d like you to scroll down and select iOS UI Testing Bundle then click Next. Xcode’s default options might be OK, but check the team option to make it’s configured for your team.</p>
<p>Finally, look inside the XCUITestSandboxUITests group and open XCUITestSandboxUITests.swift for editing.</p>
<div class="hws-sponsor" style="position: relative;">
<a rel="nofollow noopener" target="_blank" href="https://apps.apple.com/app/vire-regex-you-can-read/id1550861119" style="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100;"></a>
<picture>
<source srcset="/img/sponsors/vire-dark.svg" media="(prefers-color-scheme: dark)">
<img alt="Hacking with Swift is sponsored by ViRE" src="./How to test your user interface using Xcode – Hacking with Swift_files/vire-light.svg">
</picture>
<p><strong class="badge badge-danger">SPONSORED</strong> ViRE offers discoverable way of working with regex. It provides really readable regex experience, code complete &amp; cheat sheet, unit tests, powerful replace system, step-by-step search &amp; replace, regex visual scheme, regex history &amp; playground. ViRE is available on Mac &amp; iPad.</p>
<p class="text-right"><a rel="nofollow noopener" target="_blank" href="https://apps.apple.com/app/vire-regex-you-can-read/id1550861119" class="btn btn-danger" style="border-radius: 10px; text-decoration: none; margin-bottom: 0; font-weight: bold;">Download on the App Store</a></p>
</div>
<p class="text-center" style="margin-top: -20px; margin-bottom: 40px; font-style: italic;"><a href="https://www.hackingwithswift.com/sponsor">Sponsor Hacking with Swift and reach the world's largest Swift community!</a></p>
<h3 class="title">Setting an initial state</h3>
<p>Like regular tests you’ll see <code>setUp()</code> and <code>tearDown()</code> methods that run before and after your tests to make sure they are in a consistent state. You’ll also see an empty test method to get us started, called <code>testExample()</code>.</p>
<p>For now I want to focus on the <code>setUp()</code> method, which should contain code like this:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token comment">// UI tests must launch the application that they test. Doing this in setup will make sure it happens for each test method.</span>
<span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// In UI tests it’s important to set the initial state - such as interface orientation - required for your tests before they run. The setUp method is a good place to do this.</span></code></pre>
<p>That second comment is important: you need to make sure the app is configured in a very specific way, otherwise you’re likely to have tests fail sporadically.</p>
<p>While you <em>can</em> put code after that comment to force your app to be in a specific state, most good tests I’ve seen use a much more robust approach: pass in a command-line parameter that the app can read and adapt to.</p>
<p>To pass in a testing flag, replace the call to <code>XCUIApplication().launch()</code> with this:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>launchArguments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"enable-testing"</span><span class="token punctuation">]</span>
app<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>That will pass “enable-testing” to the app when it’s launched, which we can then make it detect and respond to. Our sandbox app doesn’t have any initial state to worry about, but if you needed to configure your app in a certain way then you would add something like this to your main app:</p>
<pre class=" language-swift"><code class=" language-swift">#<span class="token keyword">if</span> <span class="token constant">DEBUG</span>
<span class="token keyword">if</span> <span class="token builtin">CommandLine</span><span class="token punctuation">.</span>arguments<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"enable-testing"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">configureTestingState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
#endif</code></pre>
<p>What <code>configureTestingState()</code> does is down to you – you might load some preconfigured data, for example.</p>
<p><strong>Warning:</strong> If you’re shipping a macOS app that enables a testing mode using command-line flags, make sure you wrap your command-line arguments check using <code>#if DEBUG</code> otherwise real users can enable your testing mode.</p>
<h3 class="title">Recording tests</h3>
<p>To start with, we’re going to use Xcode’s test recording system to write some code. Xcode watches what you do inside the simulator and translates your taps and swipes into Swift code – or at least <em>tries</em> to.</p>
<p>Click inside the <code>testExample()</code> method, and you should see a red recording button become active directly below the code area –&nbsp;next to where the breakpoint and debugging buttons are. Go ahead and press that button now, and you should see Xcode build and launch your app.</p>
<p>Here’s what I’d like you to do when the app launches:</p>
<ol>
<li>Click inside the text field, enter “test”, then press enter.</li>
<li>Drag the slider all the way to the right.</li>
<li>Click “Omega” from the segmented control.</li>
<li>Click the Blue button then dismiss the alert.</li>
</ol>
<p>As you take those actions, code will be written directly into the <code>testExample()</code> method, more or less matching what you’re doing on-screen. I say “more or less” because in practice this is the flakiest part of XCTest: it generates terrible code that often won’t compile.</p>
<p>Here’s the code it generated for me when I followed the above actions:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">let</span> app <span class="token operator">=</span> app2
app<span class="token punctuation">.</span>otherElements<span class="token punctuation">.</span><span class="token function">containing</span><span class="token punctuation">(</span><span class="token punctuation">.</span>navigationBar<span class="token punctuation">,</span> identifier<span class="token punctuation">:</span> <span class="token string">"Alpha"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>matching<span class="token punctuation">:</span> <span class="token punctuation">.</span>other<span class="token punctuation">)</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>matching<span class="token punctuation">:</span> <span class="token punctuation">.</span>other<span class="token punctuation">)</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>matching<span class="token punctuation">:</span> <span class="token punctuation">.</span>other<span class="token punctuation">)</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>matching<span class="token punctuation">:</span> <span class="token punctuation">.</span>other<span class="token punctuation">)</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>matching<span class="token punctuation">:</span> <span class="token punctuation">.</span>textField<span class="token punctuation">)</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> tKey <span class="token operator">=</span> app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"t"</span><span class="token punctuation">]</span>
tKey<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
tKey<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> tKey <span class="token operator">=</span> app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"e"</span><span class="token punctuation">]</span>
eKey<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
eKey<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> sKey <span class="token operator">=</span> app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"s"</span><span class="token punctuation">]</span>
sKey<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
sKey<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
tKey<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
tKey<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> app2 <span class="token operator">=</span> app
app2<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Return"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"50%"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">swipeRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app2<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Omega"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>alerts<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"OK"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Wherever you see some code with a blue background color, click the micro-sized arrow to the right of it to see other possible interpretations of that code.</p>
<p>That code has a number of problems:</p>
<ol>
<li>The very first line, <code>let app = app2</code>, is meaningless because <code>app2</code> isn’t defined.</li>
<li>The second line inserts <code>.element.children(matching: .other)</code> repeatedly for no real reason.</li>
<li>It claims I tapped each keyboard key twice.</li>
<li>The return key is accessed as a button rather than a key. While this might work, it means any other buttons with the text “Return” will confuse the system.</li>
<li>Our slider is referred to as <code>sliders["50%"]</code> –&nbsp;that’s its value, which means it will change.</li>
<li>The slider movement is referred to simply as <code>swipeRight()</code>, rather than a precise movement to a value.</li>
<li>The “Omega” segmented title is under “Buttons”, which again will work but might confuse things later on.</li>
</ol>
<p>Not only is this code so bad that it won’t compile, but it’s so bad it actually crashed my Swift compiler –&nbsp;see <a rel="nofollow noopener" target="_blank" href="https://bugs.swift.org/browse/SR-7517">SR-7517</a>.</p>
<p>This code doesn’t actually <em>test</em> anything yet, but before we can write tests we need to make it work. So, please change it to this:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>textFields<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"t"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"e"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"s"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"t"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keyboards<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Return"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"50%"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">swipeRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>segmentedControls<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Omega"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>alerts<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"OK"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>That does all the work we want, but it’s significantly less code, and for bonus points actually compiles.</p>
<p><strong>Note:</strong> In case you were unfamiliar, XCTest expects all test cases to start with the word “test” and return nothing.</p>
<h3 class="title">Finding elements to test</h3>
<p>XCUITest is built around the concept of <em>queries</em>: you navigate through your UI using calls that get evaluated at runtime. You can navigate in a variety of ways, which is why both <code>app.buttons["Omega"].tap()</code> and <code>app.segmentedControls.buttons["Omega"].tap()</code> are valid –&nbsp;as long as XCUITest finds a button with the title “Omega” somewhere then it’s happy.</p>
<p>If you noticed, there are two ways of accessing a specific element:</p>
<pre class=" language-swift"><code class=" language-swift">app<span class="token punctuation">.</span>textFields<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>The first option is used when the query –&nbsp;<code>textFields</code> – only matches one item. If our app had only one button, we could have used <code>app.buttons.element.tap()</code> to tap it.</p>
<p>The second option is used when you need to select a specific item. Using <code>app.buttons["Blue"]</code> effectively means “the button that has the title ‘Blue’”, but this approach is problematic as can be seen here:</p>
<pre class=" language-swift"><code class=" language-swift">app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"50%"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">swipeRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Sliders don’t have titles, so Xcode identified it using its value. This was 50% to begin with, but that’s a really confusing way to refer to user interface elements, so iOS gives us a better solution called <em>accessibility identifiers</em>. All UIKit interface objects can be given these text strings to identify them uniquely for user interface testing.</p>
<p>To try this out, open Main.storyboard and select the slider. Select the identity inspector, then enter “Completion” for its accessibility identifier. </p>
<p><strong>Note:</strong> The accessibility identifier is designed for internal use only, unlike the other two accessibility text fields that are read to the user when Voiceover is activated.</p>
<p>With that change we can refer to our slider regardless of what value it might have, like this:</p>
<pre class=" language-swift"><code class=" language-swift">app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"Completion"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">swipeRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<h3 class="title">Writing our own tests</h3>
<p>So far we’ve used Xcode’s event recorder, cleaned up the code it generated, and added an accessibility identifier to avoid problems when accessing the slider. However, we still don’t have any <em>tests</em>, so let’s write those now.</p>
<p>Take a copy of the <code>testExample()</code> method and call it <code>testLabelCopiesTextField()</code>, like this:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testLabelCopiesTextField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>textFields<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"t"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"e"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"s"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"t"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keyboards<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Return"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"Completion"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">swipeRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>segmentedControls<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Omega"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>alerts<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"OK"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>Now delete its last four lines, but make some space where we can write a test:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testLabelCopiesTextField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>textFields<span class="token punctuation">.</span>element<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"t"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"e"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"s"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keys<span class="token punctuation">[</span><span class="token string">"t"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>keyboards<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Return"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        

    <span class="token comment">// test goes here</span>
<span class="token punctuation">}</span></code></pre>
<p>As for the test itself, this uses the same <code>XCTAssert()</code> functions you should already be using with unit tests. For example, <code>XCTAssertTrue()</code> will consider your test to have passed if its condition is true.</p>
<p>In this case we want to check whether the label contains the text “test”, which is done like this:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token function">XCTAssertTrue</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>staticTexts<span class="token punctuation">.</span>element<span class="token punctuation">.</span>label <span class="token operator">==</span> <span class="token string">"test"</span><span class="token punctuation">)</span></code></pre>
<p>Put that directly below the <code>// test goes here</code> comment. You might be wondering why we must use <code>staticTexts</code> rather than <code>labels</code>, but keep in mind XCUITest is cross-platform –&nbsp;AppKit on macOS blurs the lines between text fields and labels, so using something generic like “staticTexts” makes sense on both platforms.</p>
<p>You can try that test now if you want –&nbsp;if you press Cmd+B to build your code you should see an empty gray diamond to the left of <code>func testLabelCopiesTextField()</code>, and clicking that will run the test.</p>
<p>Next we’re going to test the slider and progress view, because moving the slider to the right should move the progress view to the left. Copy the <code>app.sliders["Completion"].swipeRight()</code> line into its own test called <code>testSliderControlsProgress()</code>, like this:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testSliderControlsProgress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"Completion"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">swipeRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>You’ll need to copy the definition for <code>app</code> too, making this:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testSliderControlsProgress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"Completion"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">swipeRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>The <code>swipeRight()</code> method call was generated by Xcode, but it’s really not fit for purpose here because it doesn’t mention&nbsp;how far the test should swipe. To fix this we need to replace <code>swipeRight()</code> with a call to <code>adjust(toNormalizedSliderPosition:)</code>. As the name suggests, this takes normalized slider positions, meaning that you refer to the leading edge as 0 and the trailing edge as 1 even if your slider counts from 0 to 100.</p>
<p>Here’s how that looks in code:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testSliderControlsProgress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"Completion"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">adjust</span><span class="token punctuation">(</span>toNormalizedSliderPosition<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>Now for the complicated part: writing a test. This is complicated by three things:</p>
<ol>
<li>You won’t find a <code>progressViews</code> property inside <code>app</code>. Instead, you must use <code>progressIndicators</code>.</li>
<li>Once you find your progress view, its value is stored as <code>Any?</code> – anything at all, or perhaps nothing.</li>
<li>In this case, the actual value is stored as a string with “%” on the end. This means we should be checking for “0%”, because our slider was dragged all the way to the right.</li>
<li>We need to typecast the <code>Any?</code> to a string, and if that fails for some reason we’ll call <code>XCTFail()</code> then end the test.</li>
</ol>
<p>Here’s how the test should look:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testSliderControlsProgress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>sliders<span class="token punctuation">[</span><span class="token string">"Completion"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">adjust</span><span class="token punctuation">(</span>toNormalizedSliderPosition<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token keyword">guard</span> <span class="token keyword">let</span> completion <span class="token operator">=</span> app<span class="token punctuation">.</span>progressIndicators<span class="token punctuation">.</span>element<span class="token punctuation">.</span>value <span class="token keyword">as</span><span class="token operator">?</span> <span class="token builtin">String</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">XCTFail</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token function">XCTAssertTrue</span><span class="token punctuation">(</span>completion <span class="token operator">==</span> <span class="token string">"0%"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>For our last test we’re going to make sure that tapping colors shows an alert. Start by copying <code>app.buttons["Blue"].tap()</code> and <code>app.alerts["Blue"].buttons["OK"].tap()</code> into their own <code>testButtonsShowAlerts()</code> test, then app the usual <code>let app = XCUIApplication()</code> line to the top. It should look like this:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testButtonsShowAlerts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>alerts<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"OK"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>Between the second and third lines of that method we need to write a new test: does an alert exist with the title “Blue”? XCUITest has a dedicated <code>exists</code> property for this purpose, so we can test for the alert in just one line of code:</p>
<pre class=" language-swift"><code class=" language-swift"><span class="token keyword">func</span> <span class="token function">testButtonsShowAlerts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">XCUIApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">XCTAssertTrue</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>alerts<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>exists<span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>alerts<span class="token punctuation">[</span><span class="token string">"Blue"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>buttons<span class="token punctuation">[</span><span class="token string">"OK"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>At this point we’ve refactored all the code from <code>testExample()</code> into individual tests, so you can delete <code>testExample()</code> entirely.</p>
<p>That’s all our code tested, so we can now run all the tests at the same time. To make that happen, scroll up to the top of XCUITestSandboxUITests and click to the left of <code>class XCUITestSandboxUITests</code> –&nbsp;it might be a green checkmark or a red cross depending on what state your tests are in.</p>
<p>As Xcode runs all the tests you’ll see it start and stop the app multiple times, ensuring that your code runs from a clean state each time. If everything has gone to plan, once the test runs finish you should see a green checkmark next to your class –&nbsp;everything passed. Good job!</p>
<h3 class="title">Where next?</h3>
<p>If you'd like to learn more about Xcode UI testing, you should read my <a href="https://www.hackingwithswift.com/articles/148/xcode-ui-testing-cheat-sheet">Xcode UI Testing Cheat Sheet</a> –&nbsp;it's full of solutions to common real-world problems.</p>
<div class="hws-sponsor" style="position: relative;">
<a href="https://apps.apple.com/app/vire-regex-you-can-read/id1550861119" style="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100;"></a>
<picture>
<source srcset="/img/sponsors/vire-dark.svg" media="(prefers-color-scheme: dark)">
<img alt="Hacking with Swift is sponsored by ViRE" src="./How to test your user interface using Xcode – Hacking with Swift_files/vire-light.svg">
</picture>
<p><strong class="badge badge-danger">SPONSORED</strong> ViRE offers discoverable way of working with regex. It provides really readable regex experience, code complete &amp; cheat sheet, unit tests, powerful replace system, step-by-step search &amp; replace, regex visual scheme, regex history &amp; playground. ViRE is available on Mac &amp; iPad.</p>
<p class="text-right"><a href="https://apps.apple.com/app/vire-regex-you-can-read/id1550861119" class="btn btn-danger" style="border-radius: 10px; text-decoration: none; margin-bottom: 0; font-weight: bold;">Download on the App Store</a></p>
</div>
<p class="text-center" style="margin-top: -20px; margin-bottom: 40px; font-style: italic;"><a href="https://www.hackingwithswift.com/sponsor">Sponsor Hacking with Swift and reach the world's largest Swift community!</a></p>
</div>
</div>
</div>
<div class="col-lg-3" style="padding: 0; padding-top: 20px;">
<div class="books-sidebar" style="text-align: center;">
<strong>BUY OUR BOOKS</strong>
</div>
<div class="books-sidebar">
 <a href="https://www.hackingwithswift.com/store/pro-swift"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/pro-swift.webp" srcset="/img/covers-flat/pro-swift@2x.png 2x" alt="Buy Pro Swift" width="95"></a>
<a href="https://www.hackingwithswift.com/store/swift-design-patterns"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/patterns.webp" srcset="/img/covers-flat/patterns@2x.png 2x" alt="Buy Swift Design Patterns" width="95"></a>
<a href="https://www.hackingwithswift.com/store/testing-swift"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/testing.webp" srcset="/img/covers-flat/testing@2x.png 2x" alt="Buy Testing Swift" width="95"></a>
<a href="https://www.hackingwithswift.com/store/hacking-with-ios"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/hws.png" srcset="/img/covers-flat/hws@2x.png 2x" alt="Buy Hacking with iOS" width="95"></a>
<a href="https://www.hackingwithswift.com/store/swift-coding-challenges"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/swiftcc.webp" srcset="/img/covers-flat/swiftcc@2x.png 2x" alt="Buy Swift Coding Challenges" width="95"></a>
<a href="https://www.hackingwithswift.com/store/swift-on-sundays-1"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/sundays-1.webp" srcset="/img/covers-flat/sundays-1@2x.png 2x" alt="Buy Swift on Sundays Volume One" width="95"></a>
<a href="https://www.hackingwithswift.com/store/server-side-swift"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/vapor.webp" srcset="/img/covers-flat/vapor@2x.png 2x" alt="Buy Server-Side Swift (Vapor Edition)" width="95"></a>
<a href="https://www.hackingwithswift.com/store/advanced-ios-1"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/advanced-ios-1.webp" srcset="/img/covers-flat/advanced-ios-1@2x.png 2x" alt="Buy Advanced iOS Volume One" width="95"></a>
<a href="https://www.hackingwithswift.com/store/advanced-ios-2"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/advanced-ios-2.webp" srcset="/img/covers-flat/advanced-ios-2@2x.png 2x" alt="Buy Advanced iOS Volume Two" width="95"></a>
<a href="https://www.hackingwithswift.com/store/advanced-ios-3"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/advanced-ios-3.webp" srcset="/img/covers-flat/advanced-ios-3@2x.png 2x" alt="Buy Advanced iOS Volume Three" width="95"></a>
<a href="https://www.hackingwithswift.com/store/hacking-with-watchos"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/watchos.webp" srcset="/img/covers-flat/watchos@2x.png 2x" alt="Buy Hacking with watchOS" width="95"></a>
<a href="https://www.hackingwithswift.com/store/hacking-with-tvos"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/tvos.webp" srcset="/img/covers-flat/tvos@2x.png 2x" alt="Buy Hacking with tvOS" width="95"></a>
<a href="https://www.hackingwithswift.com/store/hacking-with-macos"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/macos.webp" srcset="/img/covers-flat/macos@2x.png 2x" alt="Buy Hacking with macOS" width="95"></a>
<a href="https://www.hackingwithswift.com/store/dive-into-spritekit"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/spritekit.webp" srcset="/img/covers-flat/spritekit@2x.png 2x" alt="Buy Dive Into SpriteKit" width="95"></a>
<a href="https://www.hackingwithswift.com/sixty"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/sixty.webp" srcset="/img/covers-flat/sixty@2x.png 2x" alt="Buy Swift in Sixty Seconds" width="95"></a>
<a href="https://www.hackingwithswift.com/store/objective-c-for-swift-developers"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/objc.webp" srcset="/img/covers-flat/objc@2x.png 2x" alt="Buy Objective-C for Swift Developers" width="95"></a>
<a href="https://www.hackingwithswift.com/store/server-side-swift"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/kitura.webp" srcset="/img/covers-flat/kitura@2x.png 2x" alt="Buy Server-Side Swift (Kitura Edition)" width="95"></a>
<a href="https://www.hackingwithswift.com/store/beyond-code"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/beyond-code.png" srcset="/img/covers-flat/beyond-code@2x.png 2x" alt="Buy Beyond Code" width="95"></a>
</div>
</div>
</div>
<div style="margin-bottom: 20px;">
<div class="row">
<div class="col-sm-1" style="text-align: left;"></div>
<div class="col-sm-2">
<p style="text-align: center;"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/paul.webp" srcset="/img/paul@2x.png 2x" class="img-responsive" style="border-radius: 64px; border: 1px solid black; margin: auto;"></p>
<p style="text-align: center;"><a href="https://twitter.com/twostraws">@twostraws</a></p>
</div>
<div class="col-sm-8" style="text-align: left;"><h3 style="margin: 0">About the author</h3><p>Paul Hudson is the creator of Hacking with Swift, the <a href="https://www.hackingwithswift.com/store">most comprehensive series of Swift books</a> in the world. He's also the editor of <a href="https://www.hackingwithswift.com/articles">Swift Developer News</a>, the maintainer of the <a href="https://www.hackingwithswift.com/example-code">Swift Knowledge Base</a>, and a speaker at <a href="https://www.hackingwithswift.com/speaking">Swift events around the world</a>. If you're curious you can <a href="https://www.hackingwithswift.com/about">learn more here</a>.</p></div>
<div class="col-sm-1" style="text-align: left;"></div>
</div> </div>
<div class="row" style="margin-top: 40px">
<div class="col-6 hws-news-others">
<p class="lead"><a href="https://www.hackingwithswift.com/articles" class="hws-primary-text">More articles</a></p>
</div>
<div class="col-6 hws-news-others">
<p class="lead text-right"><img src="./How to test your user interface using Xcode – Hacking with Swift_files/feed.webp" style="height: 22px; vertical-align: middle; margin-bottom: 4px;"> <a class="hws-primary-text" href="https://www.hackingwithswift.com/articles/rss">
RSS feed</a></p>
</div>
</div>
<div class="row">
<div class="card-deck" style="margin-bottom: 0px;">
<div class="col-sm-6 col-lg-3 mb-4 card-deck mx-auto">
<div class="card card-blog">
<div class="card-image">
<a href="https://www.hackingwithswift.com/articles/230/how-to-become-an-ios-developer">
<img class="img rounded" src="./How to test your user interface using Xcode – Hacking with Swift_files/coding-man-1.jpg" loading="lazy">
</a>
</div>
<div class="card-body" style="padding: 1rem">
<h4 class="card-title" style="margin: 0">
<a href="https://www.hackingwithswift.com/articles/230/how-to-become-an-ios-developer">How to Become an iOS Developer in 2021</a>
</h4>
</div>
</div>
</div>
<div class="col-sm-6 col-lg-3 mb-4 card-deck mx-auto">
<div class="card card-blog">
<div class="card-image">
<a href="https://www.hackingwithswift.com/articles/229/24-quick-xcode-tips">
<img class="img rounded" src="./How to test your user interface using Xcode – Hacking with Swift_files/xcode.jpg" loading="lazy">
</a>
</div>
<div class="card-body" style="padding: 1rem">
<h4 class="card-title" style="margin: 0">
<a href="https://www.hackingwithswift.com/articles/229/24-quick-xcode-tips">24 Quick Xcode Tips</a>
</h4>
</div>
</div>
</div>
<div class="col-sm-6 col-lg-3 mb-4 card-deck mx-auto">
<div class="card card-blog">
<div class="card-image">
<a href="https://www.hackingwithswift.com/articles/228/whats-new-in-swift-5-4">
<img class="img rounded" src="./How to test your user interface using Xcode – Hacking with Swift_files/swift-evolution-5.jpg" loading="lazy">
</a>
</div>
<div class="card-body" style="padding: 1rem">
<h4 class="card-title" style="margin: 0">
<a href="https://www.hackingwithswift.com/articles/228/whats-new-in-swift-5-4">What’s new in Swift 5.4?</a>
</h4>
</div>
</div>
</div>
<div class="col-sm-6 col-lg-3 mb-4 card-deck mx-auto">
<div class="card card-blog">
<div class="card-image">
<a href="https://www.hackingwithswift.com/articles/227/which-swiftui-property-wrapper">
<img class="img rounded" src="./How to test your user interface using Xcode – Hacking with Swift_files/swift-evolution-1.jpg" loading="lazy">
</a>
</div>
<div class="card-body" style="padding: 1rem">
<h4 class="card-title" style="margin: 0">
<a href="https://www.hackingwithswift.com/articles/227/which-swiftui-property-wrapper">Which SwiftUI property wrapper to choose in any situation</a>
</h4>
</div>
</div>
</div>
<div class="col-sm-6 col-lg-3 mb-4 card-deck mx-auto">
<div class="card card-blog">
<div class="card-image">
<a href="https://www.hackingwithswift.com/articles/226/5-steps-to-better-swiftui-views">
<img class="img rounded" src="./How to test your user interface using Xcode – Hacking with Swift_files/swiftui.jpg" loading="lazy">
</a>
</div>
<div class="card-body" style="padding: 1rem">
<h4 class="card-title" style="margin: 0">
<a href="https://www.hackingwithswift.com/articles/226/5-steps-to-better-swiftui-views">5 Steps to Better SwiftUI Views</a>
</h4>
</div>
</div>
</div>
<div class="col-sm-6 col-lg-3 mb-4 card-deck mx-auto">
<div class="card card-blog">
<div class="card-image">
<a href="https://www.hackingwithswift.com/articles/225/year-in-review-2020">
<img class="img rounded" src="./How to test your user interface using Xcode – Hacking with Swift_files/calendar.jpg" loading="lazy">
</a>
</div>
<div class="card-body" style="padding: 1rem">
<h4 class="card-title" style="margin: 0">
<a href="https://www.hackingwithswift.com/articles/225/year-in-review-2020">Year in review: 2020</a>
</h4>
</div>
</div>
</div>
<div class="col-sm-6 col-lg-3 mb-4 card-deck mx-auto">
<div class="card card-blog">
<div class="card-image">
<a href="https://www.hackingwithswift.com/articles/224/common-swiftui-mistakes-and-how-to-fix-them">
<img class="img rounded" src="./How to test your user interface using Xcode – Hacking with Swift_files/swiftui.jpg" loading="lazy">
</a>
</div>
<div class="card-body" style="padding: 1rem">
<h4 class="card-title" style="margin: 0">
<a href="https://www.hackingwithswift.com/articles/224/common-swiftui-mistakes-and-how-to-fix-them">8 Common SwiftUI Mistakes - and how to fix them</a>
</h4>
</div>
</div>
</div>
<div class="col-sm-6 col-lg-3 mb-4 card-deck mx-auto">
<div class="card card-blog">
<div class="card-image">
<a href="https://www.hackingwithswift.com/articles/223/hacking-with-swift-live-2020-raises-38000-for-charity">
<img class="img rounded" src="./How to test your user interface using Xcode – Hacking with Swift_files/hws-live.jpg" loading="lazy">
</a>
</div>
<div class="card-body" style="padding: 1rem">
<h4 class="card-title" style="margin: 0">
<a href="https://www.hackingwithswift.com/articles/223/hacking-with-swift-live-2020-raises-38000-for-charity">Hacking with Swift Live 2020 raises $38,000 for charity</a>
</h4>
</div>
 </div>
</div>
</div>
</div>
</div>
</div>
</div>
<section class="page-rating-container" style="margin-top: 40px" data-background-color="gray">
<div class="container">
<div class="row text-center" style="display: block;">
<div id="page-rating-start">
<p class="m-0">Was this page useful? Let us know!</p>
<div class="br-wrapper br-theme-css-stars"><select id="page-rating" style="display: none;">
<option value=""></option>
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
</select><div class="br-widget"><a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" data-rating-value="1" data-rating-text="1"></a><a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" data-rating-value="2" data-rating-text="2"></a><a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" data-rating-value="3" data-rating-text="3"></a><a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" data-rating-value="4" data-rating-text="4"></a><a href="https://www.hackingwithswift.com/articles/83/how-to-test-your-user-interface-using-xcode#" data-rating-value="5" data-rating-text="5"></a><div class="br-current-rating"></div></div></div>
</div>
<p class="m-0"><small>Average rating: 4.6/5</small></p>
<div id="page-rating-end" style="display: none">
<p>Thank you!</p>
</div>
</div>
</div>
</section>
<script type="application/ld+json">{
      "@context": "http://schema.org",
      "@type": "Article",
      "author": "Paul Hudson",
      "datePublished": "2018-04-24",
      "dateModified": "2019-03-29",
      "headline": "How to test your user interface using Xcode",
      "image": {
        "@type": "imageObject",
        "url": "https://www.hackingwithswift.com/uploads/testing.jpg"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.6",
            "worstRating": "1.0",
            "bestRating": "5.0",
            "reviewCount": "15"
        },
      "publisher": {
        "@type": "Organization",
        "name": "Hacking with Swift",
        "logo": {
          "@type": "imageObject",
            "url": "https://www.hackingwithswift.com/files/logo-large.png"
          }
        }
      }
    </script>
<div class="buy-footer">
<a href="https://www.hackingwithswift.com/store" class="btn btn-block btn-full-width" style="white-space: normal;">Click here to visit the Hacking with Swift store &gt;&gt;</a>
</div>
<footer class="footer" style="background-color: #444444; background: linear-gradient(to bottom, #505050 0%,#333333 100%);">
<div class="container text-center">
<div class="row">
<div class="col-md-4 contact-details">
<a href="https://twitter.com/twostraws" rel="noopener">
<h4><i class="fab fa-twitter fa-3x"></i></h4>
<p>@twostraws</p>
</a>
</div>
<div class="col-md-4 contact-details">
<a href="mailto:paul@hackingwithswift.com">
<h4><i class="fal fa-envelope fa-3x"></i></h4>
<p>paul@hackingwithswift.com</p>
</a>
</div>
<div class="col-md-4 contact-details">
<a href="https://www.hackingwithswift.com/sponsor">
<h4><i class="fal fa-megaphone fa-3x"></i></h4>
<p>Sponsor the site</p>
</a>
</div>
</div>
<div class="row copyright">
<div class="col-lg-12">
<p>
<a href="https://www.hackingwithswift.com/about">About</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.hackingwithswift.com/glossary">Glossary</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.hackingwithswift.com/privacy">Privacy Policy</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.hackingwithswift.com/refund-policy">Refund Policy</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.hackingwithswift.com/update-policy">Update Policy</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.hackingwithswift.com/conduct">Code of Conduct</a>
</p>
<p><a href="https://www.hackingwithswift.com/supporters"><strong><em>Thanks for your support, Jeff Sherin!</em></strong></a></p>
<p style="margin: 50px 0;">Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, AirDrop, iBeacon, iPhone, iPad, Safari, App Store, watchOS, tvOS, Mac and macOS are trademarks of Apple Inc., registered in the U.S. and other countries. Pulp Fiction is copyright © 1994 Miramax Films. Hacking with Swift is ©2021 Hudson Heavy Industries.</p>
</div>
</div>
</div>
 </footer>
<div class="text-center" style="margin-bottom: 30px;">
<div class="row" style="margin-top: 50px;">
<div class="col-md-2">&nbsp;</div>
<div class="col-md-8" style="text-align: center;">
<img src="./How to test your user interface using Xcode – Hacking with Swift_files/unknown_user.webp" alt="Unknown user" style="max-height: 120px; border: 4px solid #777777; border-radius: 60px;">
<p class="lead" style="margin-top: 20px; margin-bottom: 0;">You are not logged in</p>
<a href="https://www.hackingwithswift.com/login" class="btn btn-success btn-lg">Log in or create account</a>
</div>
<div class="col-md-2">&nbsp;</div>
</div>
</div>
</div>
<div aria-atomic="true" id="hws-pasteboard-toast" class="toast" data-autohide="true" data-delay="1000" style="position: fixed; bottom: 20px; right: 20px;">
<div class="toast-body">
<p style="color: black; margin: 0">Link copied to your pasteboard.</p>
</div>
</div>
<script src="./How to test your user interface using Xcode – Hacking with Swift_files/site-2.js" type="text/javascript"></script>
<script type="text/javascript">
		$(function() {
			$('#page-rating').barrating('show', {
				theme: 'css-stars',
				onSelect: function(value, text, event) {
					if (typeof(event) !== 'undefined') {
						// rating was selected by a user
						var rating = $(event.target).data("rating-value");
						$.ajax({
							type: "POST",
							url: "/rating",
							data: { "url": window.location.pathname, "rating": rating },
						});
						$("#page-rating-start").hide();
						$("#page-rating-end").show();
					} else {
						// rating was selected programmatically
						// by calling `set` method
					}
				}
			});

					});
	</script>


</body></html>